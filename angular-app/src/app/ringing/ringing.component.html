<div id="background-wrapper">
    <div id="background"></div>
</div>

<div id="wrapper">
    <div id="display-time">
        {{time | date: 'h:mm:ss' }}
    </div>
    
    @if (display.anki) {
        <div id="task-wrapper">
            <div id="task-display">
                <div class="task">
                    <div class="description">Aufgabe {{card.id}} </div>
                    <mat-divider></mat-divider>
                    <div class="content">{{card.front}}</div>    
                </div>
                <div class="actions">
                    <div class="skip">skip</div>
                </div>
            </div>    
        </div>
    
        <div id="task-field">
            <mat-form-field subscriptSizing="dynamic">
                <mat-label> Deine Lösung </mat-label>
                <textarea cdkTextareaAutosize matInput type="text" [(ngModel)]="value"></textarea>          
                @if (value) {
                  <button matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
                    <mat-icon>close</mat-icon>
                  </button>
                }
              </mat-form-field>
              <button mat-stroked-button type="submit" (click)="displaySuccessTask()">Prüfen</button>
        </div>
    }

    

    @if (display.nfc) {
        @if (display.anki) {
            <div class="text-divider">
                <div class="line"><mat-divider></mat-divider></div>
                <div class="text mat-typography">oder</div>
                <div class="line"><mat-divider></mat-divider></div>
            </div>
        }

        <div class="big-button">
            <button mat-raised-button> scanner starten <mat-icon>nfc</mat-icon> </button>
        </div>
    }

    <!-- this is the fallback, so the user doens't lock themself out -->
    @if(display.quickOff || (!display.anki && !display.nfc)) {
        @if (display.anki || display.nfc) {
            <div class="text-divider">
                <div class="line"><mat-divider></mat-divider></div>
                <div class="text mat-typography">oder</div>
                <div class="line"><mat-divider></mat-divider></div>
            </div>
        }
    
        <div class="big-button">
            <button mat-raised-button> Sofort Aus <mat-icon>alarm_off</mat-icon> </button>
        </div>
    }
</div>